.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "VIRT-INSTALL 1"
.TH VIRT-INSTALL 1 "2008-09-08" "perl v5.10.0" "Virtual Machine Install Tools"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
virt\-install \- provision new virtual machines
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBvirt-install\fR [\s-1OPTION\s0]...
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBvirt-install\fR is a command line tool for provisioning new virtual machines
using the \f(CW\*(C`libvirt\*(C'\fR hypervisor management library. The tool supports both
text based & graphical installations, using serial console, \s-1SDL\s0 graphics 
or a \s-1VNC\s0 client/server pair. The guest can be configured with one or more
virtual disks and network interfaces plumbed through to the host.
.PP
The installation media can be held locally or remotely on \s-1NFS\s0, \s-1HTTP\s0, \s-1FTP\s0
servers. In the latter case \f(CW\*(C`virt\-install\*(C'\fR will fetch the minimal files
necessary to kick off the installation process, allowing the guest
to fetch the rest of the \s-1OS\s0 distribution as needed.
.PP
Given suitable command line arguments, \f(CW\*(C`virt\-install\*(C'\fR is capable of running
completely unattended, with the guest 'kickstarting' itself too. This allows
for easy automation of guest installs. A companion tool \f(CW\*(C`virt\-clone(1)\*(C'\fR is
provided for cloning pre-existing guests if their installation cannot be easily
automated from pristine media.
.SH "OPTIONS"
.IX Header "OPTIONS"
Any of the options can be omitted, in which case \f(CW\*(C`virt\-install\*(C'\fR will run
interactively prompting for input as required.
.IP "\-h, \-\-help" 4
.IX Item "-h, --help"
Show the help message and exit
.IP "\-n \s-1NAME\s0, \-\-name=NAME" 4
.IX Item "-n NAME, --name=NAME"
Name of the new guest virtual machine instance. This must be unique amongst
all guests known to the hypervisor on this machine, including those not
currently active. To re-define an existing guest, use the \f(CWvirsh(1)\fR tool
to shut it down & delete it prior to running \f(CW\*(C`virt\-install\*(C'\fR. This parameter
will be prompted for if omitted on the command line.
.IP "\-r \s-1MEMORY\s0, \-\-ram=MEMORY" 4
.IX Item "-r MEMORY, --ram=MEMORY"
Memory to allocate for guest instance in megabytes. If the hypervisor does
not have enough free memory, it is usual for it to automatically take memory
away from the host operating system to satisfy this allocation. This parameter
will be prompted for if omitted on the command line.
.IP "\-u \s-1UUID\s0, \-\-uuid=UUID" 4
.IX Item "-u UUID, --uuid=UUID"
\&\s-1UUID\s0 for the guest; if none is given a random \s-1UUID\s0 will be generated. If you 
specify \s-1UUID\s0, you should use a 32\-digit hexadecimal number. \s-1UUID\s0 are intended
to be unique across the entire data center, and indeed world. Bear this in
mind if manually specifying a \s-1UUID\s0
.IP "\-\-vcpus=VCPUS" 4
.IX Item "--vcpus=VCPUS"
Number of virtual cpus to configure for the guest. Not all hypervisors support
\&\s-1SMP\s0 guests, in which case this argument will be silently ignored
.IP "\-\-check\-cpu" 4
.IX Item "--check-cpu"
Check that the number virtual cpus requested does not exceed physical CPUs and warn
if they do.
.IP "\-\-cpuset=CPUSET" 4
.IX Item "--cpuset=CPUSET"
Set which physical cpus the guest can use. \f(CW\*(C`CPUSET\*(C'\fR is a comma separated list of numbers, which can also be specified in ranges. Example:
.Sp
.Vb 2
\&    0,2,3,5     : Use processors 0,2,3 and 5
\&    1\-3,5,6\-8   : Use processors 1,2,3,5,6,7 and 8
.Ve
.Sp
If the value 'auto' is passed, virt-install attempts to automatically determine
an optimal cpu pinning using \s-1NUMA\s0 data, if available.
.IP "\-\-disk=DISKOPTS" 4
.IX Item "--disk=DISKOPTS"
Specifies media to use as storage for the guest, with various options. The
general format of a disk string is
.Sp
.Vb 1
\&    \-\-disk opt1=val1,opt2=val2,...
.Ve
.Sp
To specify media, one of the following options is required:
.RS 4
.IP "\fBpath\fR" 4
.IX Item "path"
A path to some storage media to use, existing or not. Existing media can be
a file or block device. If installing on a remote host, the existing media
must be shared as a libvirt storage volume.
.Sp
Specifying a non-existent path implies attempting to create the new storage,
and will require specifyng a 'size' value. If the base directory of the path
is a libvirt storage pool on the host, the new storage will be created as a
libvirt storage volume. For remote hosts, the base directory is required to be
a storage pool if using this method.
.IP "\fBpool\fR" 4
.IX Item "pool"
An existing libvirt storage pool name to create new storage on. Requires
specifying a 'size' value.
.IP "\fBvol\fR" 4
.IX Item "vol"
An existing libvirt storage volume to use. This is specified as
\&'poolname:volname'.
.RE
.RS 4
.Sp
Other available options:
.IP "\fBdevice\fR" 4
.IX Item "device"
Disk device type. Value can be 'cdrom', 'disk', or 'floppy'. Default is
\&'disk'. If a 'cdrom' is specified, and no install method is chosen, the
cdrom is used as the install media.
.IP "\fBperms\fR" 4
.IX Item "perms"
Disk permissions. Value can be 'rw' (Read/Write), 'ro' (Readonly),
or 'sh' (Shared Read/Write). Default is 'rw'
.IP "\fBsize\fR" 4
.IX Item "size"
size (in \s-1GB\s0) to use if creating new storage
.IP "\fBsparse\fR" 4
.IX Item "sparse"
whether to skip fully allocating newly created storage. Value is 'true' or
\&'false'. Default is 'true' (do not fully allocate).
.RE
.RS 4
.Sp
See the examples section for some uses. This option deprecates \f(CW\*(C`\-\-file\*(C'\fR,
\&\f(CW\*(C`\-\-file\-size\*(C'\fR, and \f(CW\*(C`\-\-nonsparse\*(C'\fR.
.RE
.IP "\-\-nodisks" 4
.IX Item "--nodisks"
Request a virtual machine without any local disk storage, typically used for
running 'Live \s-1CD\s0' images or installing to network storage (iSCSI or \s-1NFS\s0 root).
.IP "\-f \s-1DISKFILE\s0, \-\-file=DISKFILE" 4
.IX Item "-f DISKFILE, --file=DISKFILE"
Path to the file, disk partition, or logical volume to use as the backing store
for the guest's virtual disk. If the path does not exist, then \f(CW\*(C`\-\-file\-size\*(C'\fR
option should also be specified, allowing the disk to be created. This parameter
can be repeated multiple times to add many disk. This option is deprecated in
favor of \-\-disk.
.IP "\-s \s-1DISKSIZE\s0, \-\-file\-size=DISKSIZE" 4
.IX Item "-s DISKSIZE, --file-size=DISKSIZE"
Size of the file to create for the guest virtual disk, if the path given to \f(CW\*(C`\-\-file\*(C'\fR
does not already exist. The size is to be specified in gigabytes, with fractional
numbers allowed. The storage for the file will not be pre-allocated unless the
\&\f(CW\*(C`\-\-nonsparse\*(C'\fR option is also specified. This parameter will be prompted for if 
omitted on the command line & a new file is to be created.
.IP "\-\-nonsparse" 4
.IX Item "--nonsparse"
Request creation of a non-sparse file for the guest virtual disk. The initial
time taken to fully-allocate the guest virtual disk will be usually by balanced
by faster install times inside the guest. Thus use of this optional is recommended 
to ensure consistently high performance and to avoid I/O errors in the guest 
should the host filesystem fill up.
.IP "\-m \s-1MAC\s0, \-\-mac=MAC" 4
.IX Item "-m MAC, --mac=MAC"
Fixed \s-1MAC\s0 address for the guest; If this parameter is omitted, or the value
\&\f(CW\*(C`RANDOM\*(C'\fR is specified a suitable address will be randomly generated. For
Xen virtual machines it is required that the first 3 pairs in the \s-1MAC\s0 address
be the sequence '00:16:3e', while for \s-1QEMU\s0 or \s-1KVM\s0 virtual machines it must
be '54:52:00'.
.IP "\-b \s-1BRIDGE\s0, \-\-bridge=BRIDGE" 4
.IX Item "-b BRIDGE, --bridge=BRIDGE"
Bridge device to connect the guest \s-1NIC\s0 to. This parameter is deprecated in
favour of the \f(CW\*(C`\-\-network\*(C'\fR parameter.
.IP "\-w \s-1NETWORK\s0, \-\-network=NETWORK" 4
.IX Item "-w NETWORK, --network=NETWORK"
Connect the guest to the host network. The value for \f(CW\*(C`NETWORK\*(C'\fR can take
one of 3 formats:
.RS 4
.IP "bridge:BRIDGE" 4
.IX Item "bridge:BRIDGE"
Connect to a bridge device in the host called \f(CW\*(C`BRIDGE\*(C'\fR. Use this option if
the host has static networking config & the guest requires full outbound
and inbound connectivity  to/from the \s-1LAN\s0. Also use this if live migration
will be used with this guest.
.IP "network:NAME" 4
.IX Item "network:NAME"
Connect to a virtual network in the host called \f(CW\*(C`NAME\*(C'\fR. Virtual networks
can be listed, created, deleted using the \f(CW\*(C`virsh\*(C'\fR command line tool. In
an unmodified install of \f(CW\*(C`libvirt\*(C'\fR there is usually a virtual network
with a name of \f(CW\*(C`default\*(C'\fR. Use a virtual network if the host has dynamic
networking (eg NetworkManager), or using wireless. The guest will be 
NATed to the \s-1LAN\s0 by whichever connection is active.
.IP "user" 4
.IX Item "user"
Connect to the \s-1LAN\s0 using \s-1SLIRP\s0. Only use this if running a \s-1QEMU\s0 guest as
an unprivileged user. This provides a very limited form of \s-1NAT\s0.
.RE
.RS 4
.Sp
If this option is omitted a single \s-1NIC\s0 will be created in the guest. If
there is a bridge device in the host with a physical interface enslaved,
that will be used for connectivity. Failing that, the virtual network
called \f(CW\*(C`default\*(C'\fR will be used. This option can be specified multiple
times to setup more than one \s-1NIC\s0.
.RE
.IP "\-\-vnc" 4
.IX Item "--vnc"
Setup a virtual console in the guest and export it as a \s-1VNC\s0 server in
the host. Unless the \f(CW\*(C`\-\-vncport\*(C'\fR parameter is also provided, the \s-1VNC\s0
server will run on the first free port number at 5900 or above. The
actual \s-1VNC\s0 display allocated can be obtained using the \f(CW\*(C`vncdisplay\*(C'\fR
command to \f(CW\*(C`virsh\*(C'\fR. If neither this, nor the \f(CW\*(C`\-\-sdl\*(C'\fR or \f(CW\*(C`\-\-nographics\*(C'\fR 
parameters are specified, this will be prompted for.
.IP "\-\-vncport=VNCPORT" 4
.IX Item "--vncport=VNCPORT"
Request a permanent, statically assigned port number for the guest \s-1VNC\s0
console. Use of this option is discouraged as other guests may automatically
choose to run on this port causing a clash.
.IP "\-\-sdl" 4
.IX Item "--sdl"
Setup a virtual console in the guest and display an \s-1SDL\s0 window in the
host to render the output. If the \s-1SDL\s0 window is closed the guest may
be unconditionally terminated.
.IP "\-\-nographics" 4
.IX Item "--nographics"
Disable all interactive prompts for the guest virtual console. No graphical
console will be allocated for the guest. A text based console will always
be available on the first serial port (or equivalent paravirtualised console
device).
.IP "\-\-noautoconsole" 4
.IX Item "--noautoconsole"
Don't automatically try to connect to the guest console. The default behaviour
is to launch a \s-1VNC\s0 client to display the graphical console, or to run the
\&\f(CW\*(C`virsh\*(C'\fR \f(CW\*(C`console\*(C'\fR command to display the text console. Use of this parameter
will disable this behaviour.
.IP "\-k \s-1KEYMAP\s0, \-\-keymap=KEYMAP" 4
.IX Item "-k KEYMAP, --keymap=KEYMAP"
Request that the virtual console be configured to run with a non-English
keyboard layout.
.IP "\-\-accelerate" 4
.IX Item "--accelerate"
When installing a \s-1QEMU\s0 guest, make use of the \s-1KVM\s0 or \s-1KQEMU\s0 kernel acceleration
capabilities if available. Use of this option is recommended unless a guest
\&\s-1OS\s0 is known to be incompatible with the accelerators. The \s-1KVM\s0 accelerator is
preferred over \s-1KQEMU\s0 if both are available.
.IP "\-\-connect=CONNECT     Connect to hypervisor with \s-1URI\s0" 4
.IX Item "--connect=CONNECT     Connect to hypervisor with URI"
Connect to a non-default hypervisor. The default connection is chosen based
on the following rules:
.RS 4
.IP "xen" 4
.IX Item "xen"
If running on a host with the Xen kernel (checks against /proc/xen)
.IP "qemu:///system" 4
.IX Item "qemu:///system"
If running on a bare metal kernel as root
.IP "qemu:///session" 4
.IX Item "qemu:///session"
If running on a bare metal kernel as non-root
.RE
.RS 4
.Sp
It is only necessary to provide the \f(CW\*(C`\-\-connect\*(C'\fR argument if this default
prioritization is incorrect, eg if wanting to use \s-1QEMU\s0 while on a Xen kernel.
.RE
.IP "\-\-livecd" 4
.IX Item "--livecd"
Specify that the installation media is a live \s-1CD\s0 and thus the guest
needs to be configured to boot off the \s-1CDROM\s0 device permanently. It
may be desirable to also use the \f(CW\*(C`\-\-nodisks\*(C'\fR flag in combination.
.IP "\-v, \-\-hvm             This guest should be a fully virtualized guest" 4
.IX Item "-v, --hvm             This guest should be a fully virtualized guest"
Request the use of full virtualization, if both para & full virtualization are
available on the host. This parameter may not be available if connecting to a
Xen hypervisor on a machine without hardware virtualization support. This 
parameter is implied if connecting to a \s-1QEMU\s0 based hypervisor.
.IP "\-c \s-1CDROM\s0, \-\-cdrom=CDROM" 4
.IX Item "-c CDROM, --cdrom=CDROM"
File to use a virtual CD-ROM device for fully virtualized guests. It can be
path to an \s-1ISO\s0 image, or to a \s-1CDROM\s0 device. It can also be a \s-1URL\s0 from which
to fetch/access a minimal boot \s-1ISO\s0 image. The URLs take the same format as
described for the \f(CW\*(C`\-\-location\*(C'\fR argument. If a cdrom has been specified via
the \f(CW\*(C`\-\-disk\*(C'\fR option, and neither \f(CW\*(C`\-\-cdrom\*(C'\fR nor any other install option is
specified, the \f(CW\*(C`\-\-disk\*(C'\fR cdrom is used as the install media.
.IP "\-\-pxe" 4
.IX Item "--pxe"
Use the \s-1PXE\s0 boot protocol to load the initial ramdisk and kernel for starting
the guest installation process. If this parameter is omitted then either the
\&\f(CW\*(C`\-\-location\*(C'\fR or \f(CW\*(C`\-\-cdrom\*(C'\fR arguments must be given to specify a location for
the kernel and initrd.
.IP "\-\-os\-type=OS_TYPE" 4
.IX Item "--os-type=OS_TYPE"
Optimize the guest configuration for a type of operating system. This will
attempt to pick the most suitable \s-1ACPI\s0 & \s-1APIC\s0 settings, optimally supported
mouse drivers and generally accommodate other operating system quirks. The
valid operating system types are
.RS 4
.IP "linux" 4
.IX Item "linux"
Linux 2.x series
.IP "windows" 4
.IX Item "windows"
Microsoft Windows 9x or later
.IP "unix" 4
.IX Item "unix"
Traditional \s-1UNIX\s0 \s-1BSD\s0 or SysV derivatives
.IP "other" 4
.IX Item "other"
Operating systems not in one of the 3 prior groups
.RE
.RS 4
.RE
.IP "\-\-os\-variant=OS_VARIANT" 4
.IX Item "--os-variant=OS_VARIANT"
Further optimize the guest configuration for a specific operating system
variant. This parameter is optional. The valid variants are
.RS 4
.IP "linux" 4
.IX Item "linux"
.RS 4
.PD 0
.IP "rhel2.1" 4
.IX Item "rhel2.1"
.PD
Red Hat Enterprise Linux 2.1
.IP "rhel3" 4
.IX Item "rhel3"
Red Hat Enterprise Linux 3
.IP "rhel4" 4
.IX Item "rhel4"
Red Hat Enterprise Linux 4
.IP "rhel5" 4
.IX Item "rhel5"
Red Hat Enterprise Linux 5
.IP "centos5" 4
.IX Item "centos5"
Cent \s-1OS\s0 5
.IP "fedora5" 4
.IX Item "fedora5"
Fedora Core 5
.IP "fedora6" 4
.IX Item "fedora6"
Fedora Core 6
.IP "fedora7" 4
.IX Item "fedora7"
Fedora 7
.IP "sles10" 4
.IX Item "sles10"
Suse Linux Enterprise Server 10.x
.IP "debianEtch" 4
.IX Item "debianEtch"
Debian 4.0 (Etch)
.IP "debianLenny" 4
.IX Item "debianLenny"
Debian Lenny
.IP "generic26" 4
.IX Item "generic26"
Generic Linux 2.6.x kernel
.IP "generic24" 4
.IX Item "generic24"
Generic Linux 2.4.x kernel
.RE
.RS 4
.RE
.IP "windows" 4
.IX Item "windows"
.RS 4
.PD 0
.IP "winxp" 4
.IX Item "winxp"
.PD
Microsoft Windows \s-1XP\s0
.IP "win2k" 4
.IX Item "win2k"
Microsoft Windows 2000
.IP "win2k3" 4
.IX Item "win2k3"
Microsoft Windows 2003
.IP "vista" 4
.IX Item "vista"
Microsoft Windows Vista
.RE
.RS 4
.RE
.IP "unix" 4
.IX Item "unix"
.RS 4
.PD 0
.IP "solaris9" 4
.IX Item "solaris9"
.PD
Sun Solaris 9
.IP "solaris10" 4
.IX Item "solaris10"
Sun Solaris 10
.IP "freebsd6" 4
.IX Item "freebsd6"
Free \s-1BSD\s0 6.x
.IP "openbsd4" 4
.IX Item "openbsd4"
Open \s-1BSD\s0 4.x
.RE
.RS 4
.RE
.IP "other" 4
.IX Item "other"
.RS 4
.PD 0
.IP "msdos" 4
.IX Item "msdos"
.PD
Microsoft \s-1DOS\s0
.IP "netware4" 4
.IX Item "netware4"
Novell Netware 4
.IP "netware5" 4
.IX Item "netware5"
Novell Netware 5
.IP "netware6" 4
.IX Item "netware6"
Novell Netware 6
.RE
.RS 4
.RE
.RE
.RS 4
.RE
.IP "\-\-noapic" 4
.IX Item "--noapic"
Override the \s-1OS\s0 type / variant to disables the \s-1APIC\s0 setting for fully 
virtualized guest.
.IP "\-\-noacpi" 4
.IX Item "--noacpi"
Override the \s-1OS\s0 type / variant to disables the \s-1ACPI\s0 setting for fully 
virtualized guest.
.IP "\-\-arch=ARCH" 4
.IX Item "--arch=ARCH"
Request a non-native \s-1CPU\s0 architecture for the guest virtual machine.
The option is only currently available with \s-1QEMU\s0 guests, and will not
enable use of acceleration. If omitted, the host \s-1CPU\s0 architecture will
be used in the guest.
.IP "\-p, \-\-paravirt" 4
.IX Item "-p, --paravirt"
This guest should be a paravirtualized guest. If the host supports both
para & full virtualization, and neither this parameter nor the \f(CW\*(C`\-\-hvm\*(C'\fR
are specified, this will be prompted for interactively.
.IP "\-l \s-1LOCATION\s0, \-\-location=LOCATION" 4
.IX Item "-l LOCATION, --location=LOCATION"
Installation source for guest virtual machine kernel+initrd pair. This
is required for paravirtualized guests. Fully virtualized guests must
use either \f(CW\*(C`\-\-location\*(C'\fR to specify a kernel+initrd, or the \f(CW\*(C`\-\-cdrom\*(C'\fR
parameter to specify an \s-1ISO/CDROM\s0 image. The \f(CW\*(C`LOCATION\*(C'\fR can take one 
of the following forms:
.RS 4
.IP "\s-1DIRECTORY\s0" 4
.IX Item "DIRECTORY"
Path to a local directory containing an installable distribution image
.IP "nfs:host:/path or nfs://host/path" 4
.IX Item "nfs:host:/path or nfs://host/path"
An \s-1NFS\s0 server location containing an installable distribution image
.IP "http://host/path" 4
.IX Item "http://host/path"
An \s-1HTTP\s0 server location containing an installable distribution image
.IP "ftp://host/path" 4
.IX Item "ftp://host/path"
An \s-1FTP\s0 server location containing an installable distribution image
.RE
.RS 4
.RE
.IP "\-x \s-1EXTRA\s0, \-\-extra\-args=EXTRA" 4
.IX Item "-x EXTRA, --extra-args=EXTRA"
Additional kernel command line arguments to pass to the installer when
performing a guest install from a kernel+initrd.
.IP "\-d, \-\-debug" 4
.IX Item "-d, --debug"
Print debugging information to the terminal when running the install process.
The debugging information is also stored in \f(CW\*(C`$HOME/.virtinst/virt\-install.log\*(C'\fR
even if this parameter is omitted.
.IP "\-\-noreboot" 4
.IX Item "--noreboot"
Prevent the domain from automatically rebooting after a graphical install.
.IP "\-\-force" 4
.IX Item "--force"
Prevent interactive prompts. If the intended prompt was a yes/no prompt, always
say yes. For any other prompts, the application will exit.
.IP "\-\-prompt" 4
.IX Item "--prompt"
Specifically enable prompting. Default prompting is off (as os virtinst 0.400.0)
.IP "\-\-wait=WAIT" 4
.IX Item "--wait=WAIT"
Amount of time to wait (in minutes) for a \s-1VM\s0 to complete its install.
Without this option, virt-install will wait for the console to close (not
neccessarily indicating the guest has shutdown), or in the case of
\&\-\-noautoconsole, simply kick off the install and exit. Any negative
value will make virt-install wait indefinitely, a value of 0 triggers the
same results as noautoconsole. If the time limit is succeeded, virt-install
simply exits, leaving the virtual machine in its current state.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
Install a \s-1KVM\s0 guest, creating a new storage file, virtual networking,
booting from the host \s-1CDROM\s0, using \s-1VNC\s0 server/viewer
.PP
.Vb 9
\&  # virt\-install \e
\&       \-\-connect qemu:///system \e
\&       \-\-name demo \e
\&       \-\-ram 500 \e
\&       \-\-disk path=/var/lib/libvirt/images/demo.img,size=5 \e
\&       \-\-network network:default \e
\&       \-\-accelerate \e
\&       \-\-vnc \e
\&       \-\-cdrom /dev/cdrom
.Ve
.PP
Install a Fedora 9 \s-1KVM\s0 guest, using \s-1LVM\s0 partition, virtual networking,
booting from \s-1PXE\s0, using \s-1VNC\s0 server/viewer
.PP
.Vb 9
\&  # virt\-install \e
\&       \-\-connect qemu:///system \e
\&       \-\-name demo \e
\&       \-\-ram 500 \e
\&       \-\-disk path=/dev/HostVG/DemoVM \e
\&       \-\-network network:default \e
\&       \-\-accelerate \e
\&       \-\-vnc \e
\&       \-\-os\-variant fedora9
.Ve
.PP
Install a \s-1QEMU\s0 guest, with a real partition, for a different architecture
using \s-1SDL\s0 graphics, using a remote kernel and initrd pair:
.PP
.Vb 9
\&  # virt\-install \e
\&       \-\-connect qemu:///system \e
\&       \-\-name demo \e
\&       \-\-ram 500 \e
\&       \-\-disk path=/dev/hdc \e
\&       \-\-network bridge:eth1 \e
\&       \-\-arch ppc64 \e
\&       \-\-sdl \e
\&       \-\-location http://download.fedora.redhat.com/pub/fedora/linux/core/6/x86_64/os/
.Ve
.PP
Run a Live \s-1CD\s0 image under Xen fullyvirt, in diskless environment
.PP
.Vb 8
\&  # virt\-install \e
\&       \-\-hvm \e
\&       \-\-name demo \e
\&       \-\-ram 500 \e
\&       \-\-nodisks \e
\&       \-\-livecd \e
\&       \-\-vnc \e
\&       \-\-cdrom /root/fedora7live.iso
.Ve
.PP
Install a paravirtualized Xen guest, 500 \s-1MB\s0 of \s-1RAM\s0, a 5 \s-1GB\s0 of disk, and
Fedora Core 6 from a web server, in text-only mode, with old style \-\-file
options:
.PP
.Vb 8
\&  # virt\-install \e
\&       \-\-paravirt \e
\&       \-\-name demo \e
\&       \-\-ram 500 \e
\&       \-\-file /var/lib/xen/images/demo.img \e
\&       \-\-file\-size 6 \e
\&       \-\-nographics \e
\&       \-\-location http://download.fedora.redhat.com/pub/fedora/linux/core/6/x86_64/os/
.Ve
.SH "AUTHOR"
.IX Header "AUTHOR"
Written by Daniel P. Berrange, Hugh Brock, Jeremy Katz, Cole Robinson and a
team of many other contributors. See the \s-1AUTHORS\s0 file in the source
distribution for the complete list of credits.
.SH "BUGS"
.IX Header "BUGS"
Report bugs to the mailing list
\&\f(CW\*(C`http://www.redhat.com/mailman/listinfo/et\-mgmt\-tools\*(C'\fR
or directly to BugZilla \f(CW\*(C`http://bugzilla.redhat.com/bugzilla/\*(C'\fR against the
\&\f(CW\*(C`Fedora\*(C'\fR product, and the \f(CW\*(C`python\-virtinst\*(C'\fR component.
.PP
When filing a bug, please run the failing command with the \-\-debug command
line flag and post the output to the bug report, along with
\&\f(CW$HOME\fR/.virtinst/virt\-install.log
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (C) 2006\-2007 Red Hat, Inc, and various contributors. 
This is free software. You may redistribute copies of it under the terms of the \s-1GNU\s0 General 
Public License \f(CW\*(C`http://www.gnu.org/licenses/gpl.html\*(C'\fR. There is \s-1NO\s0 \s-1WARRANTY\s0, to the extent 
permitted by law.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\f(CWvirsh(1)\fR, \f(CW\*(C`virt\-clone(1)\*(C'\fR, \f(CW\*(C`virt\-manager(1)\*(C'\fR, the project website \f(CW\*(C`http://virt\-manager.org\*(C'\fR
